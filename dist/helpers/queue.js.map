{"version":3,"file":"queue.js","sources":["../../src/helpers/queue.js"],"sourcesContent":["import { helper } from '@ember/component/helper';\nimport isPromise from '../utils/is-promise';\n\nexport function queue(actions = []) {\n  return function(...args) {\n    let invokeWithArgs = function(acc, curr) {\n      if (isPromise(acc)) {\n        return acc.then(() => curr(...args));\n      }\n\n      return curr(...args);\n    };\n\n    return actions.reduce((acc, curr, idx) => {\n      if (idx === 0) {\n        return curr(...args);\n      }\n\n      return invokeWithArgs(acc, curr);\n    }, undefined);\n  };\n}\n\nexport default helper(queue);\n"],"names":["queue","actions","args","invokeWithArgs","acc","curr","isPromise","then","reduce","idx","undefined","helper"],"mappings":";;;AAGO,SAASA,KAAKA,CAACC,OAAO,GAAG,EAAE,EAAE;EAClC,OAAO,UAAS,GAAGC,IAAI,EAAE;AACvB,IAAA,IAAIC,cAAc,GAAG,UAASC,GAAG,EAAEC,IAAI,EAAE;AACvC,MAAA,IAAIC,SAAS,CAACF,GAAG,CAAC,EAAE;QAClB,OAAOA,GAAG,CAACG,IAAI,CAAC,MAAMF,IAAI,CAAC,GAAGH,IAAI,CAAC,CAAC,CAAA;AACtC,OAAA;AAEA,MAAA,OAAOG,IAAI,CAAC,GAAGH,IAAI,CAAC,CAAA;KACrB,CAAA;IAED,OAAOD,OAAO,CAACO,MAAM,CAAC,CAACJ,GAAG,EAAEC,IAAI,EAAEI,GAAG,KAAK;MACxC,IAAIA,GAAG,KAAK,CAAC,EAAE;AACb,QAAA,OAAOJ,IAAI,CAAC,GAAGH,IAAI,CAAC,CAAA;AACtB,OAAA;AAEA,MAAA,OAAOC,cAAc,CAACC,GAAG,EAAEC,IAAI,CAAC,CAAA;KACjC,EAAEK,SAAS,CAAC,CAAA;GACd,CAAA;AACH,CAAA;AAEA,cAAeC,MAAM,CAACX,KAAK,CAAC;;;;"}