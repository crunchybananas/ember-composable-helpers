{"version":3,"file":"intersect.js","sources":["../../src/helpers/intersect.js"],"sourcesContent":["import { helper } from '@ember/component/helper';\nimport { isArray as isEmberArray } from '@ember/array';\nimport asArray from '../utils/as-array';\n\nexport function intersect([...arrays]) {\n  let confirmedArrays = asArray(arrays).map(array => {\n    return isEmberArray(array) ? array : [];\n  });\n  // copied from https://github.com/emberjs/ember.js/blob/315ec6472ff542ac714432036cc96fe4bd62bd1f/packages/%40ember/object/lib/computed/reduce_computed_macros.js#L1063-L1100\n  let results = confirmedArrays.pop().filter(candidate => {\n    for (let i = 0; i < confirmedArrays.length; i++) {\n      let found = false;\n      let array = confirmedArrays[i];\n      for (let j = 0; j < array.length; j++) {\n        if (array[j] === candidate) {\n          found = true;\n          break;\n        }\n      }\n\n      if (found === false) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n\n  return results;\n}\n\nexport default helper(intersect);\n"],"names":["intersect","arrays","confirmedArrays","asArray","map","array","isEmberArray","results","pop","filter","candidate","i","length","found","j","helper"],"mappings":";;;;AAIO,SAASA,SAASA,CAAC,CAAC,GAAGC,MAAM,CAAC,EAAE;EACrC,IAAIC,eAAe,GAAGC,OAAO,CAACF,MAAM,CAAC,CAACG,GAAG,CAACC,KAAK,IAAI;AACjD,IAAA,OAAOC,OAAY,CAACD,KAAK,CAAC,GAAGA,KAAK,GAAG,EAAE,CAAA;AACzC,GAAC,CAAC,CAAA;AACF;EACA,IAAIE,OAAO,GAAGL,eAAe,CAACM,GAAG,EAAE,CAACC,MAAM,CAACC,SAAS,IAAI;AACtD,IAAA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,eAAe,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;MAC/C,IAAIE,KAAK,GAAG,KAAK,CAAA;AACjB,MAAA,IAAIR,KAAK,GAAGH,eAAe,CAACS,CAAC,CAAC,CAAA;AAC9B,MAAA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,KAAK,CAACO,MAAM,EAAEE,CAAC,EAAE,EAAE;AACrC,QAAA,IAAIT,KAAK,CAACS,CAAC,CAAC,KAAKJ,SAAS,EAAE;AAC1BG,UAAAA,KAAK,GAAG,IAAI,CAAA;AACZ,UAAA,MAAA;AACF,SAAA;AACF,OAAA;MAEA,IAAIA,KAAK,KAAK,KAAK,EAAE;AACnB,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;AACF,KAAA;AAEA,IAAA,OAAO,IAAI,CAAA;AACb,GAAC,CAAC,CAAA;AAEF,EAAA,OAAON,OAAO,CAAA;AAChB,CAAA;AAEA,kBAAeQ,MAAM,CAACf,SAAS,CAAC;;;;"}